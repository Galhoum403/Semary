<!DOCTYPE html><html data-bs-theme="light" lang="ar" data-bss-forced-theme="light" dir="rtl"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no"><title>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø§Ø¯Ù† | Ø§Ù„Ø³Ù…Ø±ÙŠ Ø³ØªÙŠÙ„</title><meta name="theme-color" content="#efeeee"><link rel="canonical" href="https://semarysteel.vercel.app/calc.html"><meta property="og:url" content="https://semarysteel.vercel.app/calc.html"><meta name="theme-color" content="#efeeee"><meta property="og:url" content="https://semarysteel.netlify.app/calc.html"><meta property="og:type" content="website"><meta name="twitter:title" content="Elsemary Steel"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:description" content="Ù…ØªØ®ØµØµÙˆÙ† ÙÙŠ ØªØ¬Ø§Ø±Ø© ÙˆØªÙˆØ±ÙŠØ¯ Ù„ÙØ§Ø¦Ù ÙˆØ£Ù„ÙˆØ§Ø­ ÙˆÙ‚Ø·Ø§Ø¹Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ¯ ÙˆØ§Ù„Ø§Ø³ØªØ§Ù†Ù„Ø³ Ø³ØªÙŠÙ„ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‚Ø§Ø³Ø§Øª ÙˆØ§Ù„Ø³Ù…Ø§ÙƒØ§Øª. ØªØ³Ù„ÙŠÙ… Ù…Ù† ÙŠÙˆÙ… Ø¥Ù„Ù‰ 3 Ø£ÙŠØ§Ù… ÙˆØ¬ÙˆØ¯Ø© Ù…Ø¶Ù…ÙˆÙ†Ø© Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ØµØ±ÙŠ."><meta name="author" content="M.Galhoum"><meta property="og:image" content="https://semarysteel.netlify.app/assets/img/Logo.png"><meta name="description" content="Ø§Ø³ØªØ®Ø¯Ù… Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø³Ù…Ø±ÙŠ Ø³ØªÙŠÙ„ Ù„Ù…Ø¹Ø±ÙØ© ÙˆØ²Ù† Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø£Ùˆ Ø§Ù„Ø§Ø³ØªØ§Ù†Ù„Ø³ ÙˆØ§Ù„Ø§Ù„Ù…ÙˆÙ†ÙŠÙˆÙ… ÙˆØ§Ù„Ù†Ø­Ø§Ø³ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆØ¯Ù‚Ø©. Ø£Ø¯Ø®Ù„ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ ÙˆØ§Ø­ØµÙ„ ÙÙˆØ±Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± Ø¨ÙŠÙ† Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ØµØ§Ø¬ ÙˆØ§Ù„Ù…ÙˆØ§Ø³ÙŠØ± ÙˆÙ…Ø®ØªÙ„Ù Ø§Ù„Ù‚Ø·Ø§Ø¹Ø§Øª."><meta name="keywords" content="Ø­Ø§Ø³Ø¨Ø© ÙˆØ²Ù† Ø§Ù„Ø­Ø¯ÙŠØ¯, Ø­Ø§Ø³Ø¨Ø© ÙˆØ²Ù† Ø§Ù„ØµØ§Ø¬, Ø­Ø³Ø§Ø¨ ÙˆØ²Ù† Ø§Ù„Ø­Ø¯ÙŠØ¯, Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø§Ø³ØªØ§Ù†Ù„Ø³, ÙˆØ²Ù† Ø§Ù„Ù…ÙˆØ§Ø³ÙŠØ±, Ø­Ø³Ø§Ø¨ ÙˆØ²Ù† Ø§Ù„Ø§Ù„ÙˆØ§Ø­, steel weight calculator, Ø§Ù„Ø³Ù…Ø±ÙŠ Ø³ØªÙŠÙ„"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="assets/img/apple-touch-icon.png?h=9a1158ad59f8315114f366941ba26572"><link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png?h=9a1158ad59f8315114f366941ba26572"><link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png?h=9a1158ad59f8315114f366941ba26572" media="(prefers-color-scheme: dark)"><link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png?h=9a1158ad59f8315114f366941ba26572"><link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png?h=9a1158ad59f8315114f366941ba26572" media="(prefers-color-scheme: dark)"><link rel="icon" type="image/png" sizes="180x180" href="assets/img/apple-touch-icon.png?h=9a1158ad59f8315114f366941ba26572"><link rel="icon" type="image/png" sizes="180x180" href="assets/img/apple-touch-icon.png?h=9a1158ad59f8315114f366941ba26572"><link rel="icon" type="image/png" sizes="512x512" href="assets/img/android-chrome-512x512.png?h=9a1158ad59f8315114f366941ba26572"><link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css?h=945fb3ff8106aaf5eda73c29e0d47826"><link rel="manifest" href="manifest.json?h=7d11ba2e1d6f19963c4d120fc7c8afb6" crossorigin="use-credentials"><link rel="stylesheet" href="assets/css/bootstrap-icons.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cairo&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Exo+2&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+Arabic&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Orbitron&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed&amp;display=swap"><link rel="stylesheet" href="assets/css/swiper-icons.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tajawal&amp;display=swap"><link rel="stylesheet" href="assets/fonts/font-awesome.min.css?h=8c398b0f233f5b03278dc3f336fe836d"><link rel="stylesheet" href="assets/css/bss-overrides.css?h=dc3e23ec0bec92a64a39314d6598d5a3"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-grid.css?h=70f8f9d3b2fdfe13577af36978f2c043"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-grid.min.css?h=d4c176f406fa3bc602071b26d46ca77a"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-grid.rtl.css?h=bf6b23725e60c37c236cec633c61812a"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-grid.rtl.min.css?h=c83ae6d4f21b92c4ee3953cfa4c0c5c1"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-reboot.css?h=c8fa1e1183acbafb451dc10bcbb781da"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-reboot.min.css?h=1b536f7a8b96d70f472f5a4805805a25"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-reboot.rtl.css?h=aceff94bef12bbfd62f7d6a031341df3"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-reboot.rtl.min.css?h=f460dfc4b86a7feb74c8bf284d5a54a9"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-utilities.css?h=38b125bc7c59bbe274d60a3636cd8478"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-utilities.min.css?h=1f6e04724fb8f5d1b2085b1c0927b921"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-utilities.rtl.css?h=8b684874c2262b1bcac66366b2453986"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap-utilities.rtl.min.css?h=7bdfc295cb4328cfb83405a803d03766"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap.css?h=23df285aa90c7d2eda7bb0a8d50af256"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap.rtl.css?h=df15aa1da6e0341cf1eb43610d052912"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap.rtl.min.css?h=8da6f1111294f3f81e5a7d754f434be6"><link rel="stylesheet" href="assets/css/vendor/bootstrap-icons/bootstrap-icons.min.css?h=11eb9ea92cb12182abc452cd65487c89"><link rel="stylesheet" href="assets/css/vendor/bootstrap/css/bootstrap.min.css?h=bb1a26a0776f0a5c63f2fe63b623a993"><link rel="stylesheet" href="assets/css/vendor/bootstrap-icons/bootstrap-icons.css?h=6c9c4bb637973d9f14104d0254430b25"><link rel="stylesheet" href="assets/css/vendor/bootstrap-icons/bootstrap-icons.compiled.css?h=61077c5b832e1034f10ca70511ff6efe"><link rel="stylesheet" href="assets/css/vendor/aos/aos.css?h=a55972e04a2475090fcccbf1928292ca"><link rel="stylesheet" href="assets/css/vendor/glightbox/css/glightbox.css?h=458886567912722f153fed55db00b407"><link rel="stylesheet" href="assets/css/vendor/swiper/swiper-bundle.min.css?h=8f96e8b114c42d9dce771331a8a74151"><link rel="stylesheet" href="assets/css/vendor/glightbox/css/glightbox.min.css?h=449d75dc1ba70a25f3328abfb719e29b"><link rel="stylesheet" href="assets/css/css/main-1.css?h=093a617cf14d9485bc89c874e9c39216"><link rel="stylesheet" href="assets/css/css/main.css?h=496e989de4d615fe08ca4a02764b5510"><link rel="stylesheet" href="assets/css/gradient-navbar-styles.css?h=4ae15b76681e1b1288bcefd94a110111"><link rel="stylesheet" href="assets/css/gradient-navbar.css?h=4ae15b76681e1b1288bcefd94a110111"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"><link rel="stylesheet" href="assets/css/lev-box-Article-Cards.css?h=0e384c8add94350ab62fe489aac87b2e"><link rel="stylesheet" href="assets/css/lev-box.css?h=b46c8f85df6c10dd320cc197e87ab702"><link rel="stylesheet" href="assets/css/logo.css?h=3d5287e610be2d1a2550efd197d5a2c5"><link rel="stylesheet" href="assets/css/Navbar---Logo-Left---Phone-Logo-Left.css?h=48ccc6f20bef17a8d9ec3054e8f134d9"><link rel="stylesheet" href="assets/css/Navbar-Centered-Links-icons.css?h=971b6f4d9cfb56bd954e0ac7455ca031"><link rel="stylesheet" href="assets/css/SmartNavClean.css?h=4873793bd991c8507fff1e828421e7a8"><link rel="stylesheet" href="assets/css/bootstrap/css/bootstrap.min.css?h=e19f51d8354ac56c3d98fe2e34bc46da"><link rel="stylesheet" href="assets/css/css/bss-overrides.css?h=64a16b6c8b7d9ba6622371c13d9f7039"><link rel="stylesheet" href="assets/css/css/aos.min.css?h=ea67d3638a91cd05d22f1b4e31c7b746"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-grid.css?h=70f8f9d3b2fdfe13577af36978f2c043"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-grid.min.css?h=d4c176f406fa3bc602071b26d46ca77a"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-grid.rtl.css?h=bf6b23725e60c37c236cec633c61812a"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-grid.rtl.min.css?h=c83ae6d4f21b92c4ee3953cfa4c0c5c1"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-reboot.css?h=c8fa1e1183acbafb451dc10bcbb781da"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-reboot.min.css?h=1b536f7a8b96d70f472f5a4805805a25"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-reboot.rtl.css?h=aceff94bef12bbfd62f7d6a031341df3"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-reboot.rtl.min.css?h=f460dfc4b86a7feb74c8bf284d5a54a9"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-utilities.css?h=38b125bc7c59bbe274d60a3636cd8478"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-utilities.min.css?h=1f6e04724fb8f5d1b2085b1c0927b921"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-utilities.rtl.css?h=8b684874c2262b1bcac66366b2453986"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap-utilities.rtl.min.css?h=7bdfc295cb4328cfb83405a803d03766"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap.css?h=2557a79aa909003e6eaba5df19daf037"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap.rtl.css?h=df15aa1da6e0341cf1eb43610d052912"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap.rtl.min.css?h=8da6f1111294f3f81e5a7d754f434be6"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap-icons/bootstrap-icons.min.css?h=11eb9ea92cb12182abc452cd65487c89"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap/css/bootstrap.min.css?h=bb1a26a0776f0a5c63f2fe63b623a993"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap-icons/bootstrap-icons.css?h=6c9c4bb637973d9f14104d0254430b25"><link rel="stylesheet" href="assets/css/css/vendor/bootstrap-icons/bootstrap-icons.compiled.css?h=5028e8ee6d719ff5cd3da2f2050192f4"><link rel="stylesheet" href="assets/css/css/vendor/glightbox/css/glightbox.css?h=458886567912722f153fed55db00b407"><link rel="stylesheet" href="assets/css/css/vendor/swiper/swiper-bundle.min.css?h=8f96e8b114c42d9dce771331a8a74151"><link rel="stylesheet" href="assets/css/css/css/main-1.css?h=093a617cf14d9485bc89c874e9c39216"><link rel="stylesheet" href="assets/css/css/css/main.css?h=9237f9410b238bb5a0354f06d8b0ebce"><link rel="stylesheet" href="assets/css/css/gradient-navbar-styles.css?h=4ae15b76681e1b1288bcefd94a110111"><link rel="stylesheet" href="assets/css/css/gradient-navbar.css?h=4ae15b76681e1b1288bcefd94a110111"><link rel="stylesheet" href="assets/css/css/lev-box-Article-Cards.css?h=0e384c8add94350ab62fe489aac87b2e"><link rel="stylesheet" href="assets/css/css/lev-box.css?h=e20477bb4c9ea071c759d59d402716da"><link rel="stylesheet" href="assets/css/css/Navbar---Logo-Left---Phone-Logo-Left.css?h=48ccc6f20bef17a8d9ec3054e8f134d9"><link rel="stylesheet" href="assets/css/css/Navbar-Centered-Links-icons.css?h=971b6f4d9cfb56bd954e0ac7455ca031"><link rel="stylesheet" href="assets/css/css/SmartNavClean.css?h=4873793bd991c8507fff1e828421e7a8"><link rel="stylesheet" href="assets/css/bootstrap/css/bootstrap.min-1.css?h=adc06f5d01c7724ad48aee80c0ef2321"><link rel="stylesheet" href="assets/css/bootstrap/css/bootstrap.min-2.css?h=291297cd5c34116a85d44bc6007794aa"><link rel="stylesheet" href="assets/css/DA_Whatsapp.css?h=3d1d83bbbbd9cb9f95cae0f14a14905b"><link rel="stylesheet" href="assets/css/Floating-Button.css?h=291f3e0b9e9d95361f682863935b0449"><link rel="stylesheet" href="assets/css/bootstrap/css/bootstrap.min-3.css?h=adc06f5d01c7724ad48aee80c0ef2321"><link rel="stylesheet" href="assets/css/fonts/fontawesome-all.min.css?h=bbdee5d1310a5050ebf21bd0dbac12c6"><link rel="stylesheet" href="assets/css/fonts/font-awesome.min.css?h=3298ac169094ae24b73e071914b47e77"><link rel="stylesheet" href="assets/css/fonts/fontawesome5-overrides.min.css?h=084dc9d228c56a6e6e44ae139ee563d1"><link rel="stylesheet" href="assets/css/css/lev-box-1.css?h=b46c8f85df6c10dd320cc197e87ab702"><link rel="stylesheet" href="assets/css/css/css/css/main.css?h=fc9476fa6054c19470ba0c1a42f19470"><link rel="stylesheet" href="assets/css/css/DA_Whatsapp.css?h=3d1d83bbbbd9cb9f95cae0f14a14905b"><link rel="stylesheet" href="assets/css/css/Floating-Button.css?h=291f3e0b9e9d95361f682863935b0449"><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head><body data-theme="light"><meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Ø­Ø§Ø³Ø¨Ø© ÙˆØ²Ù† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù† Elsemary Steel</title>
  <style>
    /* European light style + dark toggle */
    :root{
      --bg:#f3f6f9;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#334155; /* slate-700 */
      --muted-2:#64748b; /* slate-500 */
      --accent:#2563eb; /* blue-600 */
      --accent-2:#1e40af; /* blue-800 */
      --glass: rgba(16,24,40,0.03);
      --input-border: #e6eef8;
    }
    [data-theme="dark"]{
      --bg:#071027;
      --card:#071226;
      --text:#e6eef8;
      --muted:#cbd5e1;
      --muted-2:#94a3b8;
      --accent:#60a5fa;
      --accent-2:#3b82f6;
      --glass: rgba(255,255,255,0.03);
      --input-border: rgba(255,255,255,0.06);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial;color:var(--text);background:var(--bg);padding:20px}
    .container{max-width:1100px;margin:0 auto}
    header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:18px}
    h1{margin:0;font-size:20px;color:var(--text)}
    p.lead{margin:0;color:var(--muted-2);font-size:13px}
    .card{background:var(--card);border:1px solid var(--input-border);border-radius:10px;padding:16px;box-shadow:0 6px 18px rgba(2,6,23,0.03)}
    .grid{display:grid;gap:14px}
    .cols-3{grid-template-columns: 320px 1fr}
    @media (max-width:900px){ .cols-3{grid-template-columns:1fr} }

    label{display:block;font-size:13px;color:var(--muted-2);margin-bottom:6px}
    input[type="number"], select, .unit-select {
      padding:8px 10px;border-radius:8px;border:1px solid var(--input-border);background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      font-size:14px;color:var(--text); width:100%;
    }
    input[type="number"]::placeholder{color:#9aa7bf}
    .row{display:flex;gap:10px;align-items:center}
    .row-right{justify-content:flex-end}
    .small{font-size:12px;color:var(--muted-2)}
    .btn{
      border:none;padding:9px 12px;border-radius:8px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;cursor:pointer;
      box-shadow: 0 6px 12px rgba(37,99,235,0.12);font-size:14px;
    }
    .btn-ghost{background:transparent;border:1px solid var(--input-border);color:var(--muted-2);cursor:pointer;border-radius:8px;padding:8px 10px}
    .muted-box{background:var(--glass);padding:8px;border-radius:8px;border:1px solid var(--input-border);color:var(--muted-2)}
    .section-title{font-weight:600;color:var(--muted-2);margin-bottom:8px}

    /* input-with-unit: unit select appears inside field on the right (RTL) */
    .input-with-unit{position:relative}
    .input-with-unit input{padding-right:110px} /* space for select on the right */
    .unit-select{
      position:absolute; right:8px; top:50%; transform:translateY(-50%); width:96px; height:36px; padding:6px; border-radius:8px;
      background:#ffffff;color:#0b1220;font-weight:600; border:1px solid var(--input-border)
    }
    [data-theme="dark"] .unit-select{background:rgba(255,255,255,0.06); color:var(--muted)}

    .icon{width:40px;height:40px;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#eef6ff, #f8fbff);border:1px solid #e6f0ff}
    [data-theme="dark"] .icon{background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03)}
    .results-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:12px}
    .result-card{background:linear-gradient(180deg,rgba(0,0,0,0.02),transparent);padding:12px;border-radius:8px;border:1px solid var(--input-border);text-align:center}
    .result-value{font-weight:700;font-size:18px;color:var(--accent-2)}
    .flex-row{display:flex;gap:10px}
    .flex-row > .col{flex:1}
    footer{margin-top:16px;text-align:center;color:var(--muted-2);font-size:12px}
    /* accessibility focus */
    input:focus, select:focus, .btn:focus { outline: none; box-shadow: 0 0 0 4px rgba(37,99,235,0.12); border-color: rgba(37,99,235,0.4) }
      .theme-toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  background: linear-gradient(135deg, #f2f2f2, #e0e0e0);
  color: #222;
  border: none;
  border-radius: 50px;
  padding: 8px 16px;
  font-weight: 500;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.theme-toggle:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

.theme-toggle.dark {
  background: linear-gradient(135deg, #1e1e1e, #2a2a2a);
  color: #eee;
}

.theme-toggle .icon {
  font-size: 18px;
  transition: transform 0.3s ease;
}

.theme-toggle:hover .icon {
  transform: rotate(20deg);
}
.back-btn {
  position: fixed;
  top: 50%;
  left: 20px;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  gap: 8px;
  background: linear-gradient(135deg, #ffb400, #ff6a00);
  color: white;
  text-decoration: none;
  padding: 10px 14px;
  border-radius: 50px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
  font-weight: 600;
  font-family: "Cairo", sans-serif;
  transition: all 0.3s ease;
  z-index: 9999;
}

.back-btn i {
  font-size: 20px;
}

.back-btn span {
  opacity: 0;
  width: 0;
  overflow: hidden;
  transition: all 0.3s ease;
}

.back-btn:hover {
  padding-right: 20px;
  background: linear-gradient(135deg, #ff6a00, #ffb400);
  transform: translateY(-50%) scale(1.05);
}

.back-btn:hover span {
  opacity: 1;
  width: auto;
}
  </style>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <div class="container">
    <header>
      <div>
        <h1>Ø­Ø§Ø³Ø¨Ø© ÙˆØ²Ù† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù† </h1>
        <p class="lead">ğŸ§® Ø­Ø§Ø³Ø¨Ø© ÙˆØ²Ù† Ø§Ù„Ù…Ø¹Ø§Ø¯Ù† (Ø­Ø¯ÙŠØ¯ØŒ Ø³ØªØ§Ù†Ù„Ø³ØŒ Ø£Ù„Ù…Ù†ÙŠÙˆÙ…ØŒ Ù†Ø­Ø§Ø³) â€” Ø£Ø¯Ø®Ù„ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ø¨Ø¯Ù‚Ø© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ.  
        <em style="display:block;color:var(--muted-2);font-size:12px">Metal weight calculator â€“ for steel, stainless steel, aluminium, copper.</em>
        </p>
      </div>
      <div class="row row-right">
       <button id="themeToggle" class="theme-toggle">
  <span class="icon">ğŸŒ™</span>
  <span class="label">Dark Mode</span>
</button>


      </div>
    </header>
<a href="index.html" class="back-btn" title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
  <i class="bi bi-house-door-fill"></i>
  <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
</a>
    <div class="grid cols-3">
      <!-- sidebar -->
      <aside class="card">
        <div class="section-title">Ø§Ù„Ù…Ø§Ø¯Ø© / Ø§Ù„ÙƒØ«Ø§ÙØ©</div>
        <select id="material" aria-label="Ø§Ù„Ù…Ø§Ø¯Ø©">
          <option value="steel">Ø­Ø¯ÙŠØ¯ â€” 7.85 g/cmÂ³</option>
          <option value="stainless">Ø³ØªØ§Ù†Ù„Ø³ Ø³ØªÙŠÙ„ â€” 8.00 g/cmÂ³</option>
          <option value="aluminium">Ø£Ù„Ù…Ù†ÙŠÙˆÙ… â€” 2.70 g/cmÂ³</option>
          <option value="copper">Ù†Ø­Ø§Ø³ â€” 8.96 g/cmÂ³</option>
          <option value="custom">ÙƒØ«Ø§ÙØ© Ù…Ø®ØµØµØ©</option>
        </select>
        <div style="margin-top:8px">
          <input id="customDensity" type="number" step="0.01" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒØ«Ø§ÙØ© g/cmÂ³" class="muted-box" style="display:none">
        </div>

        <div style="margin-top:14px" class="section-title">Ø§Ù„ÙƒÙ…ÙŠØ©</div>
        <label class="small">Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹ Ø£Ùˆ Ø§ØªØ±Ùƒ Ø§Ù„Ù‚ÙŠÙ…Ø© 1 Ù„Ù‚Ø·Ø¹Ø© ÙˆØ§Ø­Ø¯Ø©. <strong></strong></label>
        <input id="pieces" type="number" min="1" step="1" value="1" style="margin-top:8px">

        <div style="margin-top:12px" class="flex-row">
  <button id="copyBtn" class="btn" style="flex:1">Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
  <button id="csvBtn" class="btn-ghost" style="flex:1">ØªØµØ¯ÙŠØ± CSV</button>
  <button id="pdfBtn" class="btn-ghost" style="flex:1">ØªØµØ¯ÙŠØ± PDF</button>
</div>


        <div style="margin-top:12px" class="small">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ØªØªØ­ÙˆÙ„ Ø¯Ø§Ø®Ù„ÙŠÙ‹Ø§ Ø¥Ù„Ù‰ Ù…Ù„Ù‘ÙŠÙ…ØªØ± (mm) Ù„Ø¶Ù…Ø§Ù† Ø¯Ù‚Ø© Ø§Ù„Ø­Ø³Ø§Ø¨.</div>
      </aside>

      <!-- main panel -->
      <section class="card" style="padding-bottom:18px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="display:flex;gap:10px;align-items:center">
            <div class="icon" id="profileIcon" title="Ù†ÙˆØ¹ Ø§Ù„Ù‚Ø·Ø§Ø¹">
              <!-- default icon -->
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><rect x="3" y="7" width="18" height="10" rx="1.5" stroke="#1f2937" stroke-width="1.2" fill="none"></rect></svg>
            </div>
            <div>
              <div style="font-weight:700;color:var(--muted-2)">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù‚Ø·Ø§Ø¹</div>
              <div class="small">ÙƒÙ„ Ù†ÙˆØ¹ ÙŠØ¸Ù‡Ø± Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (Ù…Ø±ØªØ¨Ø© H â†’ B â†’ T ...)</div>
            </div>
          </div>

          <div>
            <select id="profile" style="padding:8px 10px;border-radius:8px;border:1px solid var(--input-border)">
              <option value="plate">Ù„ÙˆØ­ / Plate</option>
              <option value="round">Ù‚Ø¶ÙŠØ¨ Ø¯Ø§Ø¦Ø±ÙŠ (Round Bar)</option>
              <option value="rect">Ù…Ø³ØªØ·ÙŠÙ„ (Rectangle)</option>
              <option value="pipe">Ø£Ù†Ø¨ÙˆØ¨ (Pipe)</option>
              <option value="box">Ø¹Ù„Ø¨Ø© Ù…Ø±Ø¨Ø¹Ø© / Square Tube</option>
              <option value="rect_tube">Ø¹Ù„Ø¨Ø© Ù…Ø³ØªØ·ÙŠÙ„Ø© / Rectangular Tube</option>
              <option value="hex">Ù…Ø§Ø³ÙˆØ±Ø© Ø³Ø¯Ø§Ø³ÙŠØ© / Hex Bar</option>
              <option value="angle">Ø²Ø§ÙˆÙŠØ© (Angle)</option>
              <option value="ibeam">Ø¹Ø§Ø±Ø¶ I (I-Beam)</option>
            </select>
          </div>
        </div>

        <hr style="border:none;border-top:1px solid var(--input-border);margin:12px 0">

        <!-- dynamic fields -->
        <div id="fieldsArea"></div>

        <!-- results -->
        <div class="results-grid" style="margin-top:8px">
          <div class="result-card">
            <div class="small">ÙˆØ²Ù† Ø§Ù„Ù‚Ø·Ø¹Ø©</div>
            <div id="weightPiece" class="result-value">0.0000</div>
            <div class="small">kg / Ù‚Ø·Ø¹Ø©</div>
          </div>
          <div class="result-card">
            <div class="small">Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
            <div id="weightTotal" class="result-value">0.0000</div>
            <div class="small">kg ( <span id="weightTons">0.00000</span> t )</div>
          </div>
          <div class="result-card">
            <div class="small">Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©</div>
            <div id="densityUsed" class="result-value">7.85</div>
            <div class="small">g/cmÂ³</div>
          </div>
        </div>
      </section>
    </div>

    <footer>Â© Metal Weight Calculator - Designed by Mohamed Galhoum</footer>
  </div>

  <script>
  (function(){
    // densities and unit conversion
    const DENS = { steel:7.85, stainless:8.00, aluminium:2.70, copper:8.96 };
    const unitToMm = { mm:1, cm:10, m:1000, inch:25.4 };

    // DOM elements
    const profile = document.getElementById('profile');
    const fieldsArea = document.getElementById('fieldsArea');
    const material = document.getElementById('material');
    const customDensity = document.getElementById('customDensity');
    const densityUsed = document.getElementById('densityUsed');
    const pieces = document.getElementById('pieces');
    const weightPiece = document.getElementById('weightPiece');
    const weightTotal = document.getElementById('weightTotal');
    const weightTons = document.getElementById('weightTons');
    const copyBtn = document.getElementById('copyBtn');
    const csvBtn = document.getElementById('csvBtn');
    const pdfBtn = document.getElementById('pdfBtn');
    const profileIcon = document.getElementById('profileIcon');
    const themeToggle = document.getElementById('themeToggle');

    // state holds per-field {v, u} and density
    let state = {
      H:{v:6000,u:'mm'}, B:{v:2000,u:'mm'}, T:{v:10,u:'mm'},
      D:{v:20,u:'mm'}, H_round:{v:6000,u:'mm'},
      H_rect:{v:6000,u:'mm'}, H_pipe:{v:6000,u:'mm'},
      thick:{v:3,u:'mm'},
      w:{v:50,u:'mm'}, h:{v:50,u:'mm'}, // angle
      flangeW:{v:100,u:'mm'}, flangeT:{v:10,u:'mm'}, webT:{v:8,u:'mm'}, webH:{v:200,u:'mm'},
      density: DENS.steel
    };

    // helper to create a labeled field with per-field unit select (unit on right inside input)
    function mkField(key, label, step='any', placeholder='') {
      const wrapper = document.createElement('div');
      wrapper.style.marginTop = '10px';
      wrapper.innerHTML = `
        <label>${label}</label>
        <div class="input-with-unit">
          <input id="inp-${key}" type="number" step="${step}" placeholder="${placeholder}" />
          <select id="u-${key}" class="unit-select">
            <option value="mm">mm</option>
            <option value="cm">cm</option>
            <option value="m">m</option>
            <option value="inch">inch</option>
          </select>
        </div>
      `;
      return wrapper;
    }

    // helper to append two fields side-by-side
    function appendRow(fields) {
      const row = document.createElement('div');
      row.className = 'flex-row';
      row.style.marginTop = '8px';
      fields.forEach(f=>{
        const col = document.createElement('div'); col.className = 'col';
        const fieldEl = mkField(f.k, f.label, f.step, f.ph || '');
        col.appendChild(fieldEl);
        row.appendChild(col);
      });
      fieldsArea.appendChild(row);
      // attach listeners
      fields.forEach(f=>{
        const inp = row.querySelector(`#inp-${f.k}`);
        const sel = row.querySelector(`#u-${f.k}`);
        if(state[f.k]) inp.value = state[f.k].v;
        else inp.value = '';
        sel.value = (state[f.k] && state[f.k].u) ? state[f.k].u : 'mm';
        inp.addEventListener('input', ()=> { state[f.k] = state[f.k] || {}; state[f.k].v = Number(inp.value || 0); compute(); });
        sel.addEventListener('change', ()=> { state[f.k] = state[f.k] || {}; state[f.k].u = sel.value || 'mm'; compute(); });
      });
    }

    // append single field
    function appendField(f){
      const el = mkField(f.k, f.label, f.step, f.ph || '');
      fieldsArea.appendChild(el);
      const inp = el.querySelector(`#inp-${f.k}`);
      const sel = el.querySelector(`#u-${f.k}`);
      if(state[f.k]) inp.value = state[f.k].v;
      else inp.value = '';
      sel.value = (state[f.k] && state[f.k].u) ? state[f.k].u : 'mm';
      inp.addEventListener('input', ()=> { state[f.k] = state[f.k] || {}; state[f.k].v = Number(inp.value || 0); compute(); });
      sel.addEventListener('change', ()=> { state[f.k] = state[f.k] || {}; state[f.k].u = sel.value || 'mm'; compute(); });
    }

    // render fields for selected profile using H as the main length field
    function renderFields(){
      fieldsArea.innerHTML = '';
      const t = profile.value;

      // Plate: H (length), B (width), T (thickness)
      if(t === 'plate'){
        appendRow([{k:'H', label:'Ø§Ù„Ø·ÙˆÙ„ H (Ø·ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø¹Ø© / Ø§Ù„Ø§Ø±ØªÙØ§Ø¹)', step:'0.001', ph:'Ù…Ø«Ø§Ù„: 6 (m) Ø£Ùˆ 6000 (mm)'},{k:'B', label:'Ø§Ù„Ø¹Ø±Ø¶ B', step:'0.1'}]);
        appendRow([{k:'T', label:'Ø§Ù„Ø³Ù…Ùƒ T', step:'0.001'}]);
        profileIcon.innerHTML = `<svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="3" y="6" width="18" height="12" rx="1.2" stroke="#1f2937" stroke-width="1.2"/></svg>`;
      }
      // Round Bar: D, H
      else if(t === 'round'){
        appendRow([{k:'D', label:'Ø§Ù„Ù‚Ø·Ø± D', step:'0.01'},{k:'H_round', label:'Ø§Ù„Ø·ÙˆÙ„ H (Ù‚Ø·Ø¹Ø©)', step:'0.001'}]);
        profileIcon.innerHTML = `<svg width="22" height="22" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="7" stroke="#1f2937" stroke-width="1.2"/></svg>`;
      }
      // Rectangle: B, H, length H_rect
      else if(t === 'rect'){
        appendRow([{k:'B', label:'Ø§Ù„Ø¹Ø±Ø¶ B', step:'0.1'},{k:'H', label:'Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ H', step:'0.1'}]);
        appendRow([{k:'H_rect', label:'Ø§Ù„Ø·ÙˆÙ„ H (Ø·ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø¹Ø©)', step:'0.001'}]);
        profileIcon.innerHTML = `<svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="4" y="7" width="16" height="10" rx="1" stroke="#1f2937" stroke-width="1.2"/></svg>`;
      }
      // Pipe: D, thick, H_pipe
      else if(t === 'pipe'){
        appendRow([{k:'D', label:'Ø§Ù„Ù‚Ø·Ø± Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ D', step:'0.01'},{k:'thick', label:'Ø³Ù…Ùƒ Ø§Ù„Ø¬Ø¯Ø§Ø± t', step:'0.01'}]);
        appendRow([{k:'H_pipe', label:'Ø§Ù„Ø·ÙˆÙ„ H (Ø·ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø¹Ø©)', step:'0.001'}]);
        profileIcon.innerHTML = `<svg width="22" height="22" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="8" stroke="#1f2937" stroke-width="1.2"/><circle cx="12" cy="12" r="5" stroke="#1f2937" stroke-width="1.2" /></svg>`;
      }
      // Box (square hollow): B, H, T, H_rect
      else if(t === 'box'){
        appendRow([{k:'B', label:'Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ B', step:'0.1'},{k:'H', label:'Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ H', step:'0.1'}]);
        appendRow([{k:'T', label:'Ø³Ù…Ùƒ Ø§Ù„Ø¬Ø¯Ø§Ø± t', step:'0.01'},{k:'H_rect', label:'Ø§Ù„Ø·ÙˆÙ„ H (Ø·ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø¹Ø©)', step:'0.001'}]);
        profileIcon.innerHTML = `<svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="3" y="6" width="18" height="12" rx="1.2" stroke="#1f2937" stroke-width="1.2"/><rect x="7" y="9" width="10" height="6" rx="0.8" stroke="#1f2937" stroke-width="1.0"/></svg>`;
      }
      // Rectangular tube: B, H, T, H_rect (same inputs as box)
      else if(t === 'rect_tube'){
        appendRow([{k:'B', label:'Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ B', step:'0.1'},{k:'H', label:'Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ H', step:'0.1'}]);
        appendRow([{k:'T', label:'Ø³Ù…Ùƒ Ø§Ù„Ø¬Ø¯Ø§Ø± t', step:'0.01'},{k:'H_rect', label:'Ø§Ù„Ø·ÙˆÙ„ H (Ø·ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø¹Ø©)', step:'0.001'}]);
        profileIcon.innerHTML = `<svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="3" y="6" width="18" height="12" rx="1.2" stroke="#1f2937" stroke-width="1.2"/><rect x="6" y="9" width="12" height="6" rx="0.8" stroke="#1f2937" stroke-width="1.0"/></svg>`;
      }
      // Hex bar (solid hexagon): A (across flats), length
      else if(t === 'hex'){
        appendRow([{k:'B', label:'Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø£ÙˆØ¬Ù‡ A (Across flats)', step:'0.01'},{k:'H_round', label:'Ø§Ù„Ø·ÙˆÙ„ H (Ø·ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø¹Ø©)', step:'0.001'}]);
        profileIcon.innerHTML = `<svg width="22" height="22" viewBox="0 0 24 24" fill="none"><polygon points="12,3 20,8 20,16 12,21 4,16 4,8" stroke="#1f2937" stroke-width="1.2" fill="none"/></svg>`;
      }
      // Angle: w (leg1), h (leg2), t, H
      else if(t === 'angle'){
        appendRow([{k:'w', label:'Ø¶Ù„Ø¹ 1 a (leg1)', step:'0.1'},{k:'h', label:'Ø¶Ù„Ø¹ 2 b (leg2)', step:'0.1'}]);
        appendRow([{k:'T', label:'Ø§Ù„Ø³Ù…Ùƒ t', step:'0.01'},{k:'H', label:'Ø§Ù„Ø·ÙˆÙ„ H (Ø·ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø¹Ø©)', step:'0.001'}]);
        profileIcon.innerHTML = `<svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M6 4v16h14" stroke="#1f2937" stroke-width="1.2" fill="none"/></svg>`;
      }
      // I-beam: webH (height H), flangeW (B), flangeT (tf), webT (tw), H length
      else if(t === 'ibeam'){
        appendRow([{k:'webH', label:'Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„ÙˆÙŠØ¨ H (height)', step:'0.1'},{k:'flangeW', label:'Ø¹Ø±Ø¶ Ø§Ù„Ø´ÙØ© B (flange width)', step:'0.1'}]);
        appendRow([{k:'flangeT', label:'Ø³Ù…Ùƒ Ø§Ù„Ø´ÙØ© tf', step:'0.01'},{k:'webT', label:'Ø³Ù…Ùƒ Ø§Ù„ÙˆÙŠØ¨ tw', step:'0.01'}]);
        appendRow([{k:'H', label:'Ø§Ù„Ø·ÙˆÙ„ H (Ø·ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø¹Ø©)', step:'0.001'}]);
        profileIcon.innerHTML = `<svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="3" y="6" width="18" height="3" rx="1" stroke="#1f2937" stroke-width="1.2"/><rect x="3" y="15" width="18" height="3" rx="1" stroke="#1f2937" stroke-width="1.2"/><rect x="9" y="6" width="6" height="12" rx="0.5" stroke="#1f2937" stroke-width="1.2"/></svg>`;
      }

      // attach pieces listener and compute initial
      pieces.addEventListener('input', ()=> compute());
      compute();
    }

    // convert a field value to mm
    function valueToMm(key){
      const f = state[key];
      if(!f) return 0;
      const factor = unitToMm[f.u] || 1;
      return Number(f.v || 0) * factor;
    }

    // compute weights (uses H as length field for most profiles)
    function compute(){
      // update state from DOM fields present
      const possibleKeys = ['H','B','T','D','H_round','H_rect','H_pipe','thick','w','h','flangeW','flangeT','webT','webH'];
      possibleKeys.forEach(k=>{
        const inp = document.getElementById('inp-'+k);
        const sel = document.getElementById('u-'+k);
        if(inp && sel){
          state[k] = state[k] || {};
          state[k].v = Number(inp.value || 0);
          state[k].u = sel.value || 'mm';
        }
      });

      // density selection (material or custom)
      const mat = material.value;
      if(mat === 'custom'){
        state.density = Number(customDensity.value || state.density || 0);
      } else {
        state.density = DENS[mat] || state.density;
      }
      densityUsed.textContent = state.density;

      const t = profile.value;
      const pi = Math.PI;
      let area_mm2 = 0;
      let length_m = 1;

      // Plate: area = B * T (mm^2), length in m
      if(t === 'plate'){
        length_m = valueToMm('H')/1000; // H in meters
        const B_mm = valueToMm('B'), T_mm = valueToMm('T');
        area_mm2 = B_mm * T_mm;
      }
      // Round bar: solid circle area = pi*D^2/4
      else if(t === 'round'){
        const D_mm = valueToMm('D'); length_m = valueToMm('H_round')/1000;
        area_mm2 = pi * D_mm * D_mm / 4;
      }
      // Rectangle solid
      else if(t === 'rect'){
        const B_mm = valueToMm('B'), H_mm = valueToMm('H'); length_m = valueToMm('H_rect')/1000;
        area_mm2 = B_mm * H_mm;
      }
      // Pipe (round hollow): area = pi*(D^2 - Di^2)/4
      else if(t === 'pipe'){
        const D_mm = valueToMm('D'), thick_mm = valueToMm('thick'); length_m = valueToMm('H_pipe')/1000;
        const Di = Math.max(0, D_mm - 2*thick_mm);
        area_mm2 = Math.PI * (D_mm*D_mm - Di*Di) / 4;
      }
      // Box / Square hollow section: area = outer - inner
      else if(t === 'box' || t === 'rect_tube'){
        const B_mm = valueToMm('B'), H_mm = valueToMm('H'), t_mm = valueToMm('T');
        length_m = valueToMm('H_rect')/1000;
        const innerB = Math.max(0, B_mm - 2*t_mm);
        const innerH = Math.max(0, H_mm - 2*t_mm);
        area_mm2 = Math.max(0, (B_mm * H_mm) - (innerB * innerH));
      }
      // Hex bar (regular hexagon, A = across-flats): area = (sqrt(3)/2) * A^2
      else if(t === 'hex'){
        const A_mm = valueToMm('B'); // across flats
        length_m = valueToMm('H_round')/1000;
        area_mm2 = (Math.sqrt(3) / 2) * (A_mm * A_mm);
      }
      // Angle: approximate area = a*t + b*t - t^2
      else if(t === 'angle'){
        const leg1 = valueToMm('w'), leg2 = valueToMm('h'), t_mm = valueToMm('T'); length_m = valueToMm('H')/1000;
        area_mm2 = Math.max(0, leg1 * t_mm + leg2 * t_mm - t_mm * t_mm);
      }
      // I-beam: approximate area = 2*flangeW*flangeT + webH*webT
      else if(t === 'ibeam'){
        const fw = valueToMm('flangeW'), ft = valueToMm('flangeT'), wh = valueToMm('webH'), wt = valueToMm('webT'); length_m = valueToMm('H')/1000;
        area_mm2 = Math.max(0, 2 * fw * ft + wh * wt);
      }

      // weight per piece (kg) = area_mm2 (mm^2) * density (g/cm3) / 1000 * length_m (m)
      // Note: 1 g/cm3 = 1e-3 kg/cm3; area_mm2 / 100 = area_cm2; area_cm2 * length_cm gives cm3 etc.
      // Our formula: volume(cm3) = area_mm2 / 100 * (length_m * 100)  => area_mm2 * length_m / 1
      // Simpler consistent formula used previously: (area_mm2 * density) / 1000 * length_m
      const density = Number(state.density) || 0;
      const kg_piece = (area_mm2 * density) / 1000 * (length_m || 1);
      const n = Number(pieces.value) || 1;
      const totalKg = kg_piece * n;

      weightPiece.textContent = isFinite(kg_piece) ? kg_piece.toFixed(4) : '0.0000';
      weightTotal.textContent = isFinite(totalKg) ? totalKg.toFixed(4) : '0.0000';
      weightTons.textContent = isFinite(totalKg/1000) ? (totalKg/1000).toFixed(5) : '0.00000';
    }

    // material change handler
    material.addEventListener('change', ()=>{
      if(material.value === 'custom'){
        customDensity.style.display = 'block';
      } else {
        customDensity.style.display = 'none';
      }
      compute();
    });
    customDensity.addEventListener('input', ()=> compute());

    // profile change
    profile.addEventListener('change', ()=> renderFields());

    // copy & csv
    copyBtn.addEventListener('click', async ()=>{
      const txt = `Ø§Ù„Ù‚Ø·Ø§Ø¹: ${profile.options[profile.selectedIndex].text} | ÙƒØ«Ø§ÙØ©: ${state.density} g/cmÂ³ | ÙˆØ²Ù†/Ù‚Ø·Ø¹Ø©: ${weightPiece.textContent} kg | Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${weightTotal.textContent} kg`;
      try{ await navigator.clipboard.writeText(txt); copyBtn.textContent='ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ“'; setTimeout(()=> copyBtn.textContent='Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø©',1400);}catch(e){ alert(txt); }
    });
    // CSV Export (English, styled)
csvBtn.addEventListener('click', () => {
  const rows = [
    ['Section Type','Material','Density (g/cmÂ³)','Piece Weight (kg)','Pieces','Total Weight (kg)','Total (tonnes)']
  ];
  rows.push([
    profile.options[profile.selectedIndex].text,
    material.options[material.selectedIndex].text,
    state.density.toFixed(2),
    weightPiece.textContent,
    pieces.value,
    weightTotal.textContent,
    weightTons.textContent
  ]);

  const csv = rows.map(r => r.join(',')).join('\n');
  const blob = new Blob(["\uFEFF" + csv], { type: 'text/csv;charset=utf-8;' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'Metal_Weight_Report.csv';
  a.click();
  URL.revokeObjectURL(url);
});

 // PDF Export (English only - clean layout)
pdfBtn.addEventListener('click', async () => {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({ orientation: "portrait", unit: "mm", format: "a4" });
  
  // Header
  doc.setFont("helvetica", "bold");
  doc.setFontSize(18);
  doc.text("ELSEMARY Metal Weight Calculation ", 105, 20, { align: "center" });
  
  // Material info
  doc.setFont("helvetica", "normal");
  doc.setFontSize(12);

  doc.text(`Density: ${state.density.toFixed(2)} g/cmÂ³`, 20, 56);
  doc.text(`Pieces: ${pieces.value}`, 20, 64);
  
  // Separator
  doc.setDrawColor(180);
  doc.line(20, 70, 190, 70);
  
  // Results
  doc.setFont("helvetica", "bold");
  doc.setFontSize(14);
  doc.text("Results", 20, 82);
  doc.setFont("helvetica", "normal");
  doc.setFontSize(12);
  doc.text(`Weight per piece: ${weightPiece.textContent} kg`, 30, 94);
  doc.text(`Total weight: ${weightTotal.textContent} kg`, 30, 102);
  doc.text(`Total in tonnes: ${weightTons.textContent} t`, 30, 110);
  
  // Box around results
  doc.setDrawColor(200);
  doc.roundedRect(25, 88, 150, 30, 3, 3);
  
  // Footer
  const date = new Date().toLocaleString('en-GB');
  doc.setFontSize(10);
  doc.setTextColor(100);
  doc.text(`Generated on: ${date}`, 20, 280);
  doc.text("Â© Metal Weight Calculator - Designed by Mohamed Galhoum", 105, 287, { align: "center" });
  
  doc.save("Elsemary_Metal_Weight_Report.pdf");
});

    // theme toggle
    themeToggle.addEventListener('click', ()=>{
      const cur = document.body.getAttribute('data-theme') || 'light';
      document.body.setAttribute('data-theme', cur === 'light' ? 'dark' : 'light');
    });

    // init
    (function init(){
      state.density = DENS.steel;
      densityUsed.textContent = state.density;
      renderFields();
      // compute on window focus or manual trigger
      window.computeMetalWeight = compute;
    })();

  })();
  </script>



<button id="installAppBtn" class="install-btn" title="ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚">
  <i class="bi bi-android2"></i>
  <i class="bi bi-download"></i>
</button>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<!-- CSS -->
<style>
.install-btn {
  position: fixed;
  bottom: 111px;
  right: 42px;
  background-color: #14529d;
  color: white;
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 26px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  z-index: 1000;
  cursor: pointer;
  transition: all 0.3s ease;
}
.install-btn:hover {
  background-color: #218838;
  transform: scale(1.1);
}
.install-btn i {
  margin: 0 2px;
}
</style>

<!-- JavaScript -->
<script>
let deferredPrompt;

// Ø­ÙØ¸ Ø§Ù„Ø­Ø¯Ø« Ù„Ù…Ø§ ÙŠÙƒÙˆÙ† Ù…ØªØ§Ø­
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  console.log("âœ… Ø­Ø¯Ø« Ø§Ù„ØªØ«Ø¨ÙŠØª Ù…ØªØ§Ø­.");
});

// Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±
document.getElementById('installAppBtn').addEventListener('click', async () => {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    console.log(`User response to install prompt: ${outcome}`);
    deferredPrompt = null;
  } else {
    alert("ğŸ“± Ø¬Ù‡Ø§Ø²Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¢Ù† Ø£Ùˆ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø«Ø¨Øª Ø¨Ø§Ù„ÙØ¹Ù„.");
  }
});
</script>
<a class="d-md-flex justify-content-md-center align-items-md-center" id="wp" target="_blank" style="background-color: #5bbf21;" href="https://wa.me/201027874446"><i class="fa fa-whatsapp d-md-flex justify-content-md-center align-items-md-center"></i></a>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/vendor/aos/aos.cjs.js"></script>
    <script src="assets/js/vendor/aos/aos.esm.js"></script>
    <script src="assets/js/vendor/bootstrap/js/bootstrap.bundle.js"></script>
    <script src="assets/js/vendor/bootstrap/js/bootstrap.esm.js"></script>
    <script src="assets/js/vendor/bootstrap/js/bootstrap.esm.min.js"></script>
    <script src="assets/js/vendor/bootstrap/js/bootstrap.js"></script>
    <script src="assets/js/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/vendor/php-email-form/validate.js"></script>
    <script src="assets/js/vendor/aos/aos.js"></script>
    <script src="assets/js/vendor/glightbox/js/glightbox.js"></script>
    <script src="assets/js/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/js/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/js/js/main.js"></script>
    <script src="assets/js/SmartNavClean-Handlers.js"></script>
    <script src="assets/js/SmartNavClean-smartNav.js"></script>
    <script src="assets/js/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/js/aos.min.js"></script>
    <script src="assets/js/js/bs-init.js"></script>
    <script src="assets/js/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/bootstrap/js/contact.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script><script src="assets/bootstrap/js/bootstrap.min.js?h=2cf0875e1daf356bc4e64c053e7a4150"></script><script src="assets/js/bs-init.js?h=d0c6de1d0ecd5065d55e7b94664b5b10"></script><script src="assets/js/vendor/aos/aos.cjs.js?h=d9f4c76336e267671bb18202f917a2fc"></script><script src="assets/js/vendor/aos/aos.esm.js?h=b3eeb124f7edfb1f599a680981e2224d"></script><script src="assets/js/vendor/bootstrap/js/bootstrap.bundle.js?h=7d2c412531f05f39e97195f9b48a53dc"></script><script src="assets/js/vendor/bootstrap/js/bootstrap.esm.js?h=32e42b38a15f27b01f79bb13aad53714"></script><script src="assets/js/vendor/bootstrap/js/bootstrap.esm.min.js?h=6ccf144f123da79e62d5e46a06f133b9"></script><script src="assets/js/vendor/bootstrap/js/bootstrap.js?h=52de67605c3d156f4958c83fa9cfc8d9"></script><script src="assets/js/vendor/bootstrap/js/bootstrap.bundle.min.js?h=5cc1b73e70520fa84b1846afe0ec8fb6"></script><script src="assets/js/vendor/bootstrap/js/bootstrap.min.js?h=a92b3364fb0a7349f2a1c31a7ad5ed5e"></script><script src="assets/js/vendor/php-email-form/validate.js?h=7d2bca442116b34c70c923199c3cf641"></script><script src="assets/js/vendor/aos/aos.js?h=aa20b6e0418d20fb86b071e670b2b207"></script><script src="assets/js/vendor/glightbox/js/glightbox.js?h=2689a40bfb9f6fdfd4533783f4ecb988"></script><script src="assets/js/vendor/swiper/swiper-bundle.min.js?h=6cf353c3b8738cded0ecaf2100e7da1e"></script><script src="assets/js/vendor/glightbox/js/glightbox.min.js?h=5ed34b339caa08ee6eb80ef401e8ab3c"></script><script src="assets/js/js/main.js?h=efb26a569009915e149bba8c13ce5994"></script><script src="assets/js/SmartNavClean-Handlers.js?h=676c6e7ef5f98a6f123106e9575328c0"></script><script src="assets/js/SmartNavClean-smartNav.js?h=752e1b6bd80580aac3f97d2f323d0f52"></script><script src="assets/js/bootstrap/js/bootstrap.min.js?h=895c39cf45acf22e2384038a6d31857b"></script><script src="assets/js/js/aos.min.js?h=d3718e34eeb0355be8e3179a2e2bccb7"></script><script src="assets/js/js/bs-init.js?h=d0c6de1d0ecd5065d55e7b94664b5b10"></script><script src="assets/js/bootstrap/js/bootstrap.bundle.min.js?h=5cc1b73e70520fa84b1846afe0ec8fb6"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script><script src="assets/js/bootstrap/js/contact.js?h=db3df553d037527ab97b0870591a5f72"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script></body></html>